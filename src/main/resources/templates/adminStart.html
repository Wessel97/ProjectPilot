<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>Admin Dashboard</title>
    <link rel="stylesheet" th:href="@{/css/topBar.css}">
    <link rel="stylesheet" th:href="@{/css/adminStart.css}">
</head>

<body>

<div th:insert="~{/fragments/topBar}"></div>

    <h2>Admin Dashboard</h2>

    <div class="button-container">
        <a href="/addProject"><button>Create Project</button></a>
        <a href="/register"><button>Create User</button></a>
        <a href="/allUsers"><button>All Users</button></a>
        <a href="/allTasks"><button>All Tasks</button></a>
        <form action="/logout" method="get"><button type="submit" class="logout">Logout</button></form>
    </div>

<div class="container">
    <h2>Projects</h2>
    <table class="table">
        <thead>
        <tr>
            <th>Name</th>
            <th></th>
            <th>Actions</th>
            <th></th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="project : ${project}">
            <td class="hidden" th:text="${project.getId()}">id</td>
            <td th:text="${project.getProjectName()}">42</td>
            <td>
                <a th:href="@{'/showProject/' + ${project.getId()}}" href="/showProject"><button>Select</button></a>
            </td>
            <td>
                <a th:href="@{'/updateProject/' + ${project.getId()}}" href="/updateProject/"><button>Update</button></a>
            </td>
            <td>
                <form th:action="@{/deleteProject}" method="post">
                    <input type="hidden" name="projectId" th:value="${project.getId()}"/>
                    <button type="submit">Delete</button>
                </form>
<!--                <form th:action="@{'/deleteProject/' + ${project.getId()}}" method="post"> <button type="submit">Delete</button></form>-->
            </td>
        </tr>
        </tbody>
    </table>
</div>
</body>

</html>