<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>All Tasks</title>
  <link rel="stylesheet" th:href="@{/css/topBar.css}">
  <link rel="stylesheet" th:href="@{/css/allTasks.css}">
</head>
<body>

<div th:insert="~{/fragments/topBar}"></div>

  <h2>All Tasks</h2>

  <div class="button-container">
    <a href="/userTasks"><button>My Tasks</button></a>
    <a href="/showProjectFromSession"><button>Project Overview</button></a>
    <form action="/logout" method="get">
      <button type="submit" class="logout">Logout</button>
    </form>
  </div>

<div class="container">
  <table class="table">
    <thead>
    <tr>
      <th><a href="/allTasks/sorted/id">Task ID</a></th>
      <th><a href="/allTasks/sorted/user_id">User ID</a></th>
      <th>Title</th>
      <th>Description</th>
      <th><a href="/allTasks/sorted/note">Note</a></th>
      <th><a href="/allTasks/sorted/hours">Hours</a></th>
      <th><a href="/allTasks/sorted/pay_rate">Pay Rate</a></th>
      <th><a href="/allTasks/sorted/flag">Flag</a></th>
      <th><a href="/allTasks/sorted/start_date">Start Date</a></th>
      <th><a href="/allTasks/sorted/end_date">End Date</a></th>
      <th><a href="/allTasks/sorted/status">Status</a></th>
      <th><a href="/allTasks/sorted/department">Department</a></th>
      <th>Update</th>
      <th>Delete</th>
      <th>Assign User</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="task : ${task}">
      <td th:text="${task.id}">42</td>
      <td th:text="${task.user_id}">meningen med alting</td>
      <td th:text="${task.title}">666</td>
      <td th:text="${task.description}">666</td>
      <td th:text="${task.note}">666</td>
      <td th:text="${task.hours}">666</td>
      <td th:text="${task.payRate}">666</td>
      <td th:text="${task.flag}">666</td>
      <td th:text="${#dates.format(task.start_Date, 'dd-MM-yyyy')}"></td>
      <td th:text="${#dates.format(task.end_Date, 'dd-MM-yyyy')}"></td>
      <td th:text="${task.status}">666</td>
      <td th:text="${task.department}">666</td>
      <td>
        <a th:href="@{'/updateTask/' + ${task.id}}" href="/updateTask"><button>Update</button></a>
      </td>
      <td>
        <form th:action="@{'/deleteTask/' + ${task.id}}" method="post">
          <button type="submit">Delete</button>
        </form>
      </td>
      <td>
        <a th:href="@{'/assignUser/' + ${task.id}}" href="/assignUser"><button>Assign User</button></a>
      </td>
    </tr>
    </tbody>
  </table>
</div>
</body>
</html>
